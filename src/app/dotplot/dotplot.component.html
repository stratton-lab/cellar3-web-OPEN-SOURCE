<div *ngIf="isOpen()" class="dialog-wrapper">
  <div class="dialog-overlay" [style.z-index]="getOverlayZ()" (click)="close()"></div>

  <div class="dialog" [style.z-index]="getDialogZ()">
    <div class="dialog-header">
      <div class="dialog-title">Dot Plot <i (click)="close()" class="fa fa-multiply close-btn"></i>
      </div>
    </div>
    <div class="dialog-content">
      <div class="row">
        <div class="col-lg-12">
          <div class="msg-wrapper">
            <div *ngIf="msg" class="err-msg">
              <div class="msg-title">{{msg.title}}</div>
              {{msg.detail}}</div>
          </div>
          <plotly-plot *ngIf="data" #plotlyPlot
                       [data]="data"
                       [layout]="layout"
                       [config]="config">
          </plotly-plot>
          <div *ngIf="data" class="legend">
            <div class="percent-legend">
              Cell Percentage:
              <div class="percentage-wrapper">
                <div class="percent-item percent-item-10p"><i></i><b>10%</b></div>
                <div class="percent-item percent-item-50p"><i></i><b>50%</b></div>
                <div class="percent-item percent-item-100p"><i></i><b>100%</b></div>
              </div>
            </div>
          </div>
          <div *ngIf="dotplot?.receipt" (click)="downloadReceipt()"
               title="Step by step details on how this data was generated. Website's analysis will differ from manuscript due to real-time constraints."
               class="receipt">Download Receipt
          </div>
          <div *ngIf="busy" class="loading fa-solid fa-dna"></div>
        </div>
      </div>
    </div>
  </div>
</div>

